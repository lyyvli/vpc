# 概述 {#concept_ffz_yjh_1hb .concept}

高可用虚拟IP HaVip（High-Availablility Virtual IP Address）是一种可以独立创建和释放的私网IP资源。绑定HaVip后，ECS实例可以通过使用ARP协议进行该IP的宣告。

## 功能简介 {#section_gst_m34_c2b .section}

HaVip提供以下功能：

-   一个HaVip可以绑定两台ECS实例。绑定后，ECS实例可以通过使用ARP协议进行该IP的宣告。
-   一台ECS实例可以在已持有一个私网IP的情况下，宣告多个HaVip，以获得多个私网IP。
-   ECS实例通过宣告私网IP，可实现基于VRRP协议的高可用方案。
-   HaVip支持绑定EIP，以实现HaVip在ECS实例间切换时，发给EIP的消息也可以重定向到新的ECS实例上。

## 使用限制 {#section_tw1_myc_bhb .section}

HaVip有如下限制：

-   仅专有网络支持HaVip。
-   不支持组播和广播通信。
-   每个账号可持有的HaVip数量上限为5个。
-   每个VPC中可同时存在的HaVip数量上限为5个。
-   每个ECS实例同时绑定的HaVip数量上限为5个。
-   每个HaVip同时绑定的ECS实例数量上限为2个。
-   每个VPC内，目的地址指向HaVip的路由条目上限为5条。

## 使用场景 {#section_xkg_fj4_c2b .section}

-   场景一：面向私网的高可用服务

    使用Keepalived或heartbeat等开源方案，提供高可用服务。

    如下图所示，两台ECS实例基于HaVip，使用Keepalived组合成了一个高可用的面向私网的服务。VPC内的其他实例可以通过私网访问该服务，服务地址为HaVip的地址。当ECS 1发生故障时，ECS 2接管服务且服务IP地址不变。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/136158/155643390140411_zh-CN.png)

-   场景二：面向公网的高可用服务

    使用Keepalived或heartbeat等开源方案，提供高可用服务。

    如下图所示，两台ECS实例基于HaVip，使用Keepalived并且将HaVip与EIP绑定，可以对外提供高可用的公网服务，服务地址为HaVip的地址。当ECS 1发生故障时，ECS 2接管服务且服务IP地址不变。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/136158/155643390140412_zh-CN.png)


