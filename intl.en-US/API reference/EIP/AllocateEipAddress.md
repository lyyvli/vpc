# AllocateEipAddress {#doc_api_Vpc_AllocateEipAddress .reference}

Creates an Elastic IP Address \(EIP\).

After you call this action, an EIP in the **Available** state is allocated in the specified region. EIP supports ICMP, TCP, and UDP protocols, but does not support the IGMP and SCTP protocols.

## Debug {#apiExplorer .section}

By using [API Explorer](https://api.aliyun.com/#product=Vpc&api=AllocateEipAddress), you can easily debug APIs, automatically generate SDK code examples, and quickly search for APIs.

## Request parameters {#parameters .section}

|Parameter|Type|Required?|Example value|Description|
|---------|----|---------|-------------|-----------|
|Action|String|Yes|AllocateEipAddress|The name of this action. Value: **AllocateEipAddress**.

 |
|RegionId|String|Yes|cn-hangzhou|The ID of the region to which the EIP belongs. To query the region ID, call [DescribeRegions](~~36063~~).

 |
|AutoPay|Boolean|No|false|Indicates whether to pay automatically. Valid values:

 -   **false**: Do not enable automatic payment. You need to go to the order center to complete the payment after an order is generated.
-   **true**: Enable automatic payment. The order is paid automatically.

 **Note:** This parameter is required when the value of the **InstanceChargeType** parameter is **PrePaid**.

 |
|Bandwidth|String|No|5|The peak bandwidth in Mbps of the EIP.

 |
|ClientToken|String|No|02fb3da4-130e-11e9-8e44-001xxxxxxxx|A client token used to guarantee the idempotence of requests. This parameter value is generated by the client and must be unique. It must be 64 ASCII characters in length.

 |
|ISP|String|No|BGP|The type of the line. Default value: **BGP**.

 **Note:** This field is required if you are a financial cloud user. In this case, select the Hangzhou region. Valid value: **BGP\_FinanceCloud**.

 |
|InstanceChargeType| String|No|PostPaid|The billing method of the EIP. Valid values:

 -   **PostPaid** \(default\): Pay-As-You-Go.

 |
|InternetChargeType|String|No|PayByBandwidth|The billing method of the EIP. Valid values:

 -   **PayByTraffic**: The EIP is billed based on the traffic.

 |
|Netmode|String|No|Public|The network type. Default value: **Public**.

 |
|Period|Integer  |No|10|The validity period of subscription. Valid values:

 -   Monthly subscription value range: **1 to 9**.
-   Yearly subscription value range: **1 to 3**. This parameter is required if the **InstanceChargeType** value is **PrePaid**.

 |
|PricingCycle|String|No|Month|The billing cycle of purchase. Valid values:

 -   **Month**\(default\): billing on a monthly basis
-   **Year**: billing on a yearly basis

**Note:** This parameter is required if the **InstanceChargeType** value is **PrePaid**.


 |
|ResourceGroupId|String|No|rg-acfmxazxxxxxxxx|The ID of the enterprise resource group.

 |

## Response parameters {#resultMapping .section}

|Parameter|Type|Example value|Description|
|---------|----|-------------|-----------|
|EipAddress|String|12.xx.xx.78|The allocated EIP.

 |
|AllocationId|String|eip-25877c70xxxxxxxx|The ID of the EIP.

 |
|OrderId|Long|10|The order number. This parameter is returned only when the Subscription billing method is selected.

 |
|RequestId|String|4EC47282-1B74-4534-BD0E-403F3EE64CAF|The ID of the request.

 |
|ResourceGroupId|String|rg-acfmxazxxxxxxxx|The ID of the enterprise resource group.

 |

## Examples {#demo .section}

Request example

``` {#request_demo}

https://vpc.aliyuncs.com/?Action=AllocateEipAddress
&RegionId=cn-beijing 
&CommonParameters

```

Response example

`XML` format

``` {#xml_return_success_demo}
<AllocateEipAddressResponse> 
  <AllocationId>eip-25877c70xxxxxxxx</AllocationId> 
  <EipAddress>123.xx.xx. 206</EipAddress>
  <RequestId>B6B9F518-60F8-4D81-9242-1207B356754D</RequestId>
</AllocateEipAddressResponse>

```

`JSON` format

``` {#json_return_success_demo}
{
	"RequestId":"B6B9F518-60F8-4D81-9242-1207B356754D",
	"EipAddress":"123.xx.xx. 206",
	"AllocationId":"eip-25877c70xxxxxxxx"
}
```

## Error codes { .section}

|HTTP status code|Error code|Error message |Description|
|----------------|----------|--------------|-----------|
|403|Forbbiden|User not authorized to operate on the specified resource.|You are not authorized to operate on this resource.|
|400|QuotaExceeded.Eip|Elastic IP address quota exceeded|The number of EIPs has exceeded the limit. If you need more EIPs, open a ticket to increase the limit. We recommend that you use NAT Gateway.|
|400|InvalidParameter|Specified value of "InternetChargeType" is not valid|The value of the InternetChargeType parameter is invalid.|
|400|InvalidParameter|Specified value of "Bandwidth" is not valid.|The specified bandwidth value is invalid.|
|400|QuotaExceeded.Eip|Elastic IP address quota exceeded.|The quota of EIPs has been reached. To increase the quota, open a ticket. Alternatively, we recommend that you use NAT Gateway to obtain more IP addresses.|
|400|ReserveIpFail|Reserve eip failed.|The operation failed to reserve the EIP.|
|400|InvalidRegion.NotSupport|The specified region does not support.|The specified region does not support this operation.|

[See common error codes](https://error-center.aliyun.com/status/product/Vpc)

